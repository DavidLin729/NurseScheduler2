<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>班表異動紀錄</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body { background: #fff0f6; }
        h2 { color: #d72660; }
        .table-bordered th, .table-bordered td { background: #fffafd; }
    </style>
</head>
<body>
<div class="container mt-5">
    <h2>班表異動紀錄</h2>
    <a href="/calendar_view" class="btn btn-secondary mb-3">回月曆檢視</a>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>異動時間</th>
                <th>操作人員</th>
                <th>動作</th>
                <th>異動前</th>
                <th>異動後</th>
            </tr>
        </thead>
        <tbody>
        {% for log in logs %}
            <tr>
                <td>{{ log.operated_at }}</td>
                <td>{{ log.operator_id }}</td>
                <td>{{ log.action }}</td>
                <td><pre style="white-space:pre-wrap">{{ log.before | tojson(indent=2) }}</pre></td>
                <td><pre style="white-space:pre-wrap">{{ log.after | tojson(indent=2) }}</pre></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
</body>
</html> 